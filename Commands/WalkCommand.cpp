//
// Created by eele on 10-6-2015.
//

#include "WalkCommand.h"
#include "../Gonio.h"

void WalkCommand::init()
{
    std::cout << "walkcommand init" << std::endl;

//    std::vector<std::vector<int>> servoPos =
//            {
//                {442,713,997,419,715,1010,581,713,997,442,310,997,419,308,1010,581,310,997},
//                {442,772,1009,419,715,1010,581,772,1009,442,310,997,419,242,1023,581,310,997},
//                {380,701,956,419,715,1010,502,715,1009,442,310,997,497,311,994,581,310,997}
//            };
    this->servoDriver->sendMultiple(Gonio("vooruitInit.csv").calcVars());
}

void WalkCommand::run()
{
    //std::cout << "walkcommand run" << std::endl;
//    std::vector<std::vector<int>> servoPos =
//            {
//                    {380,701,956,419,781,1023,502,715,1009,442,240,1009,497,311,994,581,251,1009},
//                    {442,713,997,419,781,1023,581,713,997,442,240,1009,419,308,1010,581,251,1009},
//                    {521,715,1009,419,781,1023,643,701,956,442,240,1009,330,311,994,581,251,1009},
//                    {521,715,1009,350,712,994,643,701,956,521,315,1009,330,311,994,643,322,956},
//                    {442,772,1009,350,712,994,581,772,1009,521,315,1009,419,242,1023,643,322,956},
//                    {442,772,1009,419,715,1010,581,772,1009,442,317,997,419,242,1023,581,310,997},
//                    {442,772,1009,497,712,994,581,772,1009,380,329,956,419,242,1023,502,308,1009},
//                    {380,701,956,497,712,994,502,715,1009,380,329,956,497,311,994,502,308,1009}
//            };
//
//    this->servoDriver->sendMultiple(servoPos);
    this->servoDriver->sendMultiple(Gonio("vooruit.csv").calcVars());
};

