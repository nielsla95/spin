//
// Created by root on 15-6-15.
//

#include "DanceCommand.h"
#include "../Gonio.h"

void DanceCommand::init()
{
    // testing init
    //Gonio("dans.csv").calcVars();
    std::vector<std::vector<int>> dans5{
            {512,691,1002,419,695,1004,512,695,1004,512,328,1004,419,328,1004,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002}
    };

    std::vector<std::vector<int>> dans6{
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,741,1016,419,766,294,512,741,1016,512,282,1016,419,251,318,512,282,1016}
    };

    std::vector<std::vector<int>> dans7{
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,741,1016,512,282,1016,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,741,1016,512,282,1016,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,741,1016,512,282,1016,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,741,1016,512,282,1016,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,741,1016,512,282,1016,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,741,1016,512,282,1016,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,741,1016,512,282,1016,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,741,1016,512,282,1016,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,741,1016,512,282,1016,419,251,318,512,332,1002},
            {512,691,1002,419,766,294,512,695,1004,512,328,1004,419,251,318,512,332,1002}
    };
    this->servoDriver->sendSyncWrite(dans7,200000,500);
    this->servoDriver->sendSyncWrite(dans5, 1000000,300);
    this->servoDriver->sendSyncWrite(dans6,200000,500);

    //this->servoDriver->sendSyncWrite(Gonio("dans1.csv").calcVars(),1000000,100);
    //this->servoDriver->sendSyncWrite(Gonio("dans2.csv").calcVars(),200000,500);
    //this->servoDriver->sendSyncWrite(Gonio("dans3.csv").calcVars(),200000,500);
    //this->servoDriver->sendSyncWrite(Gonio("dans4.csv").calcVars(),200000,500);
}

void DanceCommand::run()
{

};
