//
// Created by root on 15-6-15.
//

#include "GateCommand.h"

void GateCommand::init()
{
    std::vector<std::vector<int>> servoPos =
            {
                    {512,691,1002,419,715,1010,512,715,1010,512,308,1010,419,332,1002,512,308,1010}
            };
    this->servoDriver->sendMultiple(servoPos);

}

void GateCommand::run()
{
    std::vector<std::vector<int>> servoPos =
            {
                    {495,754,1018,419,715,1010,495,754,1018,512,308,1010,435,269,1018,512,308,1010},
                    {479,691,1000,419,715,1010,479,691,1000,512,308,1010,451,332,1000,512,308,1010},
                    {479,691,1000,402,781,1022,479,691,1000,528,242,1022,451,332,1000,528,242,1022},
                    {512,691,1002,402,781,1022,512,691,1002,528,242,1022,419,332,1002,528,242,1022},
                    {528,691,1001,402,781,1022,528,691,1001,528,242,1022,402,332,1001,528,242,1022},
                    {544,691,1000,386,715,1007,544,691,1000,544,308,1007,386,332,1000,544,308,1007},
                    {495,754,1018,402,715,1009,495,754,1018,528,308,1009,435,269,1018,528,308,1009},
                    {495,754,1018,419,715,1010,495,754,1018,512,308,1010,435,269,1018,512,308,1010},
                    {495,754,1018,435,715,1009,495,754,1018,495,308,1009,435,269,1018,495,308,1009},
                    {479,691,1000,451,715,1007,479,691,1000,479,308,1007,451,332,1000,479,308,1007},
                    {479,691,1000,402,781,1022,479,691,1000,528,242,1022,451,332,1000,528,242,1022},
                    {512,691,1002,402,781,1022,512,691,1002,528,242,1022,419,332,1002,528,242,1022},
                    {495,691,1001,402,781,1022,495,691,1001,528,242,1022,435,332,1001,528,242,1022},
                    {479,691,1000,386,715,1007,479,691,1000,544,308,1007,451,332,1000,544,308,1007}

            };

    this->servoDriver->sendMultiple(servoPos);
};